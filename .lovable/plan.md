

# תוכנית: אנימציית נזילה ממשימה 9

## סיכום

הוספת אפקט ויזואלי של טיפות מים שנוזלות מהתקרה במשימה 9 - כדי להמחיש את הנרטיב ("הגג התחיל לנזול ישר על העבודות הכי יקרות שלנו").

## גישה טכנית

האנימציה תהיה מבוססת CSS בלבד (ללא אסטים חדשים), עם 3-4 טיפות שיורדות בצורה לא סימטרית.

## שלבי ביצוע

### 1. הגדרת CSS Keyframes לטיפות (index.css)

הוספת אנימציות חדשות:
- **water-drip**: טיפה יורדת מלמעלה למטה עם האצה (gravity)
- **drip-splash**: התזה קטנה בהגעה לרצפה
- כל טיפה מקבלת delay שונה ליצירת אפקט אורגני

### 2. יצירת קומפוננטת WaterLeakEffect

קומפוננטה פשוטה שמציגה את אזור הנזילה:
- 3-4 טיפות בצבע כחול-שקוף
- מיקום קבוע בחלק העליון של המסך
- staggered animation delays (0s, 0.8s, 1.6s...)
- infinite loop

### 3. שילוב ב-VisualPlayScreen

הוספת תנאי להצגת האפקט רק במשימה 9:
```tsx
{mission.mission_id === 'studio_09' && <WaterLeakEffect />}
```

## פרטים טכניים

```text
CSS Animation Structure:
+------------------+
|   Ceiling        |
|     |            |
|   Drip (start)   |  <- opacity: 0, top: 5%
|     v            |
|    ~~~           |  <- falling animation
|     v            |
|   Drip (end)     |  <- opacity: 1 -> 0, top: 85%
|   [splash]       |  <- small splash effect
+------------------+
```

**אפיוני האנימציה:**
- משך טיפה: 1.5-2 שניות
- צבע: rgba(100, 180, 220, 0.6) (כחול-שקוף)
- גודל טיפה: 6-10px
- מספר טיפות: 3-4 במיקומים שונים
- z-index: 15 (מעל הרקע, מתחת ל-UI)

## קבצים שישתנו

| קובץ | שינוי |
|------|-------|
| `src/index.css` | הוספת keyframes לאנימציית water-drip |
| `src/components/WaterLeakEffect.tsx` | קומפוננטה חדשה |
| `src/components/VisualPlayScreen.tsx` | import והצגה רק ב-M09 |

## שיקולים

- **ביצועים**: CSS-only, לא משפיע על ביצועים
- **נגישות**: prefers-reduced-motion יכבה את האנימציה
- **מובייל**: אותו אפקט, אולי טיפות קטנות יותר

